<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Devine le film ğŸ¬</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  background:#111;
  color:white;
  font-family:Arial, sans-serif;
  text-align:center;
  padding:20px;
}
button {
  font-size:18px;
  padding:15px 25px;
  margin:10px;
}
#emojis {
  font-size:60px;
  margin:30px;
}
#answer {
  display:none;
  font-size:28px;
  color:#4CAF50;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#111111">
</head>

<div style="margin-top:40px; display:flex; flex-direction:column; align-items:center;">
  <h3>ğŸ“± Scanne pour les rÃ¨gles</h3>
  <div id="qrcode"></div>
</div>

<body>

<h1>ğŸ¬ Devine le film</h1>

<div id="emojis">ğŸ¥â“</div>
<div id="answer">Clique sur Â« Question suivante Â»</div>
<div id="timer" style="font-size:32px; margin:20px; color:#ff5252;">
  â±ï¸ 30
</div>

<button onclick="next()">ğŸ² Question suivante</button>
<button onclick="reveal()">ğŸ‘ï¸ RÃ©vÃ©ler</button>
<button onclick="startTimer()">â–¶ï¸ DÃ©marrer le chrono</button>
<button onclick="resetTimer()">ğŸ”„ Reset chrono</button>

<script src="films.js"></script>

<script>
let current = null;

function next() {
  current = films[Math.floor(Math.random() * films.length)];
  document.getElementById("emojis").innerText = current.emojis;
  document.getElementById("answer").innerText = current.title;
  document.getElementById("answer").style.display = "none";
  resetTimer();
}

function reveal() {
  if (!current) return;
  document.getElementById("answer").style.display = "block";
}

new QRCode(document.getElementById("qrcode"), {
  text: window.location.origin + window.location.pathname.replace("index.html","joueurs.html"),
  width: 160,
  height: 160

let timer = 30;
let interval = null;

function startTimer() {
  clearInterval(interval);
  timer = 30;
  document.getElementById("timer").innerText = "â±ï¸ " + timer;

  interval = setInterval(() => {
    timer--;
    document.getElementById("timer").innerText = "â±ï¸ " + timer;

    if (timer <= 0) {
      clearInterval(interval);
      document.getElementById("timer").innerText = "â±ï¸ Temps Ã©coulÃ©";
    }
  }, 1000);
}

function resetTimer() {
  clearInterval(interval);
  timer = 30;
  document.getElementById("timer").innerText = "â±ï¸ " + timer;
}

</script>

</body>
</html>
